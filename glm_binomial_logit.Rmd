ロジスティック回帰(GLM,二項分布,ロジットリンク関数)メモ
========================================================

## GLM(一般化線形モデル)
- 重要な3要素
  - 確率分布
  - リンク関数(連結関数)
  - 線形予測子

## 二項分布,ロジットリンク関数の場合

- 二項分布
    - $latex p(y|θ) = p(y|N,q) = {N \choose y} q^y (1-q)^{N-y} $
- 生起確率 q ロジット関数。ロジスティック回帰でのリンク関数がこれにあたる。
    - $latex q = 1/(1 + exp(-η)) $
- 線形予測子 η
    - $latex η = β_0 + β_1 x_1 + β_2 x_2 + ... + β_n x_n $
- 尤度関数 L
    - $latex L(θ|y) = Σ p(y|N,q) $
- 最尤法によるパラメータ推定
    - $latex L(θ|y) $ が最大になるθ(ロジスティック回帰ではβ)の値を求めること。
対数にして乗算を加算に変換して計算する。(最大対数尤度)

- オッズ値,オッズ比からロジット関数への式展開
$$ 
\begin{aligned}
  odds = p(x)/(1-p(x)) \\
  log(odds) = η  \\
  odds = exp(η) \\
  p/(1-p) = exp(η) \\
  p = (1-p) * exp(η) \\
  p = exp(η) - p * exp(η) \\
  (1 + exp(η) ) * p = exp(η) \\
  p = exp(η)/( 1 + exp(η) ) \\
  p = 1/( exp(-η) + 1) 
\end{aligned}
$$
    - 式展開 参考 http://www.slideshare.net/sleipnir002/05-12739580

- glm パラメタ
   - η(読み：イータ)：線形予測子を意味する
       - 例) η = β0 + β1*x1 + β2*x2 + ... + + βn*xn
   - θ(読み：シータ)：パラメータ。
       - ロジスティック回帰の場合 $latex p(y|θ) = p(y|N,q) = p(y|β) $
       - ポアソン回帰の場合 $latex p(y|θ) = p(y|λ) $
       - 最尤推定や最小二乗法などの最適化手法により求めるパラメータ。
       - 一般化線形モデルのパラメータ --> θ
       - ロジスティック回帰 --> N,q
       - ポアソン回帰 --> λ(ラムダ) 平均値

- リスク比、オッズ比　医療統計学で習ったこと
    - http://d.hatena.ne.jp/funzin51k/20120615/p1

> リスク比は病気の要因（飲酒など）がどれほど病気にかかる影響力があるか、

> オッズ比は、病気の人のどれくらいが病気の要因があったのかを簡単に理解できるようにするもののことだ。

- オッズ、オッズ比 wikipedia
    - http://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%83%E3%82%BA

